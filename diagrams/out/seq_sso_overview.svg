<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="860px" preserveAspectRatio="none" style="width:1137px;height:860px;" version="1.1" viewBox="0 0 1137 860" width="1137px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v8lyyl153yew" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="322.4609" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="66" y="422.3828"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="524" y="145.0547"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="293.3281" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="524" y="451.5156"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="726" y="203.3203"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="44.2656" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="726" y="378.1172"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="726" y="504.7813"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="726" y="621.3125"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="975.5" y="261.5859"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="975.5" y="319.8516"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="975.5" y="533.9141"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="975.5" y="650.4453"/><rect fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" height="646.0547" style="stroke: #000000; stroke-width: 2.0;" width="1113.5" x="13" y="106.7891"/><rect fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="661" x="455.5" y="466.5156"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="71" x2="71" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="528.5" x2="528.5" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="730.5" x2="730.5" y1="89.7891" y2="769.8438"/><line style="stroke: #76B82A; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="980.5" x2="980.5" y1="89.7891" y2="769.8438"/><text fill="#000000" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="90" x="23" y="85.7798">netID User</text><ellipse cx="71" cy="13" fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" rx="8" ry="8" style="stroke: #76B82A; stroke-width: 2.0;"/><path d="M71,21 L71,48 M58,29 L84,29 M71,48 L58,63 M71,48 L84,63 " fill="none" filter="url(#f1v8lyyl153yew)" style="stroke: #76B82A; stroke-width: 2.0;"/><text fill="#000000" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="90" x="23" y="784.6235">netID User</text><ellipse cx="71" cy="798.6328" fill="#FFFFFF" filter="url(#f1v8lyyl153yew)" rx="8" ry="8" style="stroke: #76B82A; stroke-width: 2.0;"/><path d="M71,806.6328 L71,833.6328 M58,814.6328 L84,814.6328 M71,833.6328 L58,848.6328 M71,833.6328 L84,848.6328 " fill="none" filter="url(#f1v8lyyl153yew)" style="stroke: #76B82A; stroke-width: 2.0;"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="123" x="465.5" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="109" x="472.5" y="73.7798">Website (RP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="123" x="465.5" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="109" x="472.5" y="791.6235">Website (RP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="223" x="617.5" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="209" x="624.5" y="73.7798">Identity Broker (IOP/IRP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="223" x="617.5" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="209" x="624.5" y="791.6235">Identity Broker (IOP/IRP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="248" x="854.5" y="51"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="234" x="861.5" y="73.7798">netID Account Provider (OP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="33.7891" style="stroke: #76B82A; stroke-width: 1.5;" width="248" x="854.5" y="768.8438"/><text fill="#FFFFFF" font-family="Arial" font-size="17" lengthAdjust="spacingAndGlyphs" textLength="234" x="861.5" y="791.6235">netID Account Provider (OP)</text><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="322.4609" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="66" y="422.3828"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="524" y="145.0547"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="293.3281" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="524" y="451.5156"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="726" y="203.3203"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="44.2656" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="726" y="378.1172"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="726" y="504.7813"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="87.3984" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="726" y="621.3125"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="975.5" y="261.5859"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="975.5" y="319.8516"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="975.5" y="533.9141"/><rect fill="#76B82A" filter="url(#f1v8lyyl153yew)" height="29.1328" style="stroke: #76B82A; stroke-width: 1.0;" width="10" x="975.5" y="650.4453"/><path d="M13,106.7891 L118,106.7891 L118,113.7891 L108,123.7891 L13,123.7891 L13,106.7891 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="646.0547" style="stroke: #000000; stroke-width: 2.0;" width="1113.5" x="13" y="106.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="28" y="119.856">Browser</text><polygon fill="#76B82A" points="512,141.0547,522,145.0547,512,149.0547,516,145.0547" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="71" x2="518" y1="145.0547" y2="145.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="78" y="139.9888">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="112" y="139.9888">Start a use case that requires SSO Login</text><polygon fill="#76B82A" points="82,170.1875,72,174.1875,82,178.1875,78,174.1875" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="76" x2="528" y1="174.1875" y2="174.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="88" y="169.1216">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="395" x="122" y="169.1216">Show "netID Login Button" to invoke AuthReq with parameters</text><polygon fill="#76B82A" points="714,199.3203,724,203.3203,714,207.3203,718,203.3203" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="71" x2="720" y1="203.3203" y2="203.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="78" y="198.2544">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="112" y="198.2544">Trigger AuthReq</text><polygon fill="#76B82A" points="82,228.4531,72,232.4531,82,236.4531,78,232.4531" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="76" x2="730" y1="232.4531" y2="232.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="88" y="227.3872">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="122" y="227.3872">Redirect to OP with new AuthReq</text><polygon fill="#76B82A" points="963.5,257.5859,973.5,261.5859,963.5,265.5859,967.5,261.5859" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="71" x2="969.5" y1="261.5859" y2="261.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="78" y="256.52">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="112" y="256.52">Login with Credentials</text><polygon fill="#76B82A" points="82,286.7188,72,290.7188,82,294.7188,78,290.7188" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="76" x2="979.5" y1="290.7188" y2="290.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="88" y="285.6528">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="122" y="285.6528">Show requested claims and ask for consent</text><polygon fill="#76B82A" points="963.5,315.8516,973.5,319.8516,963.5,323.8516,967.5,319.8516" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="71" x2="969.5" y1="319.8516" y2="319.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="78" y="314.7856">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="112" y="314.7856">Consent to data transfer</text><polygon fill="#76B82A" points="82,344.9844,72,348.9844,82,352.9844,78,348.9844" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="76" x2="979.5" y1="348.9844" y2="348.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="88" y="343.9185">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="122" y="343.9185">Issue AuthN Response and redirect to IRP</text><polygon fill="#76B82A" points="714,374.1172,724,378.1172,714,382.1172,718,378.1172" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="71" x2="720" y1="378.1172" y2="378.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="78" y="373.0513">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="112" y="373.0513">Transfer AuthN Response via redirect URL</text><polygon fill="#76B82A" points="87,418.3828,77,422.3828,87,426.3828,83,422.3828" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="81" x2="730" y1="422.3828" y2="422.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="93" y="409.7505">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="408" x="127" y="402.1841">Store AuthN Response encrypted in new AuthN Response for RP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="127" y="417.3169">and redirect browser to RP</text><polygon fill="#76B82A" points="512,447.5156,522,451.5156,512,455.5156,516,451.5156" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="76" x2="518" y1="451.5156" y2="451.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="83" y="446.4497">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="117" y="446.4497">Transfer AuthN Response via redirect URL</text><path d="M455.5,466.5156 L613.5,466.5156 L613.5,473.5156 L603.5,483.5156 L455.5,483.5156 L455.5,466.5156 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="661" x="455.5" y="466.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="470.5" y="479.5825">Server-2-Server</text><polygon fill="#76B82A" points="714,500.7813,724,504.7813,714,508.7813,718,504.7813" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="534" x2="720" y1="504.7813" y2="504.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="541" y="499.7153">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="575" y="499.7153">Request AccessToken</text><polygon fill="#76B82A" points="963.5,529.9141,973.5,533.9141,963.5,537.9141,967.5,533.9141" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="736" x2="969.5" y1="533.9141" y2="533.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="743" y="528.8481">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="777" y="528.8481">Request AccessToken</text><polygon fill="#76B82A" points="747,559.0469,737,563.0469,747,567.0469,743,563.0469" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="741" x2="979.5" y1="563.0469" y2="563.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="753" y="557.981">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="787" y="557.981">Return AccessToken</text><polygon fill="#76B82A" points="545,588.1797,535,592.1797,545,596.1797,541,592.1797" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="539" x2="730" y1="592.1797" y2="592.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="551" y="587.1138">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="585" y="587.1138">Return AccessToken</text><polygon fill="#76B82A" points="714,617.3125,724,621.3125,714,625.3125,718,621.3125" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="534" x2="720" y1="621.3125" y2="621.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="541" y="616.2466">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="575" y="616.2466">Request UserInfo</text><polygon fill="#76B82A" points="963.5,646.4453,973.5,650.4453,963.5,654.4453,967.5,650.4453" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="736" x2="969.5" y1="650.4453" y2="650.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="743" y="645.3794">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="777" y="645.3794">Request UserInfo</text><polygon fill="#76B82A" points="747,675.5781,737,679.5781,747,683.5781,743,679.5781" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="741" x2="979.5" y1="679.5781" y2="679.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="753" y="674.5122">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="787" y="674.5122">Return UserInfo</text><polygon fill="#76B82A" points="545,704.7109,535,708.7109,545,712.7109,541,708.7109" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="539" x2="730" y1="708.7109" y2="708.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="551" y="703.645">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="585" y="703.645">Return UserInfo</text><polygon fill="#76B82A" points="82,740.8438,72,744.8438,82,748.8438,78,744.8438" style="stroke: #76B82A; stroke-width: 1.0;"/><line style="stroke: #76B82A; stroke-width: 1.0;" x1="76" x2="528" y1="744.8438" y2="744.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="88" y="739.7778">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="122" y="739.7778">Report Successful Identification</text><!--MD5=[34e1ed6d5cf886bfb90cf79186af8ccb]
@startuml
skinparam sequence {
	ArrowColor #76b82a
	ActorBorderColor #76b82a
    ActorBackgroundColor #FFF
	ActorFontColor #000
    ActorFontName Arial
	ActorFontSize 17

	LifeLineBorderColor #76b82a
	LifeLineBackgroundColor #76b82a
	
	ParticipantBorderColor #76b82a
	ParticipantBackgroundColor #76b82a
	ParticipantFontName Arial
	ParticipantFontSize 17
	ParticipantFontColor #FFF

}

autonumber "<b>[00]"
actor "netID User" as eu
participant  "Website (RP)" as ws
participant  "Identity Broker (IOP/IRP)" as ib
participant  "netID Account Provider (OP)" as op
group Browser
    eu -> ws : Start a use case that requires SSO Login 
    activate ws
    ws -> eu : Show "netID Login Button" to invoke AuthReq with parameters
    deactivate ws
    eu -> ib : Trigger AuthReq
    activate ib
    ib -> eu : Redirect to OP with new AuthReq
    deactivate ib
    eu -> op : Login with Credentials
    activate op
    op -> eu : Show requested claims and ask for consent
    deactivate op
    eu -> op : Consent to data transfer
    activate op
    op -> eu : Issue AuthN Response and redirect to IRP
    deactivate op
    eu -> ib : Transfer AuthN Response via redirect URL
    activate ib
    ib -> eu : Store AuthN Response encrypted in new AuthN Response for RP\nand redirect browser to RP
    deactivate ib
    activate eu
    eu -> ws : Transfer AuthN Response via redirect URL
    activate ws

    group Server-2-Server

        ws -> ib : Request AccessToken
        activate ib
        ib -> op : Request AccessToken
        activate op
        op -> ib : Return AccessToken
        deactivate op
        ib -> ws : Return AccessToken
        deactivate ib

        ws -> ib : Request UserInfo
        activate ib
        ib -> op : Request UserInfo
        activate op
        op -> ib : Return UserInfo
        deactivate op
        ib -> ws : Return UserInfo
        deactivate ib
    end

    ws -> eu : Report Successful Identification
    deactivate ws
    deactivate eu
end
@enduml

PlantUML version 1.2020.01beta16(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>